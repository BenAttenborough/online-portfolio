function closeCard(){$(".card-overlay").animate({marginTop:"100vh"}),$("#overlay-card-thumbs").empty(),console.log("Emptying"),console.log($("#overlay-card-thumbs")),$("#overlay").hide(),$("body").css("overflow","visible")}function assignThumbEvents(){$(".thumb").click(function(){console.log("Thumb clicked");var e=$(this).children("img").attr("src"),t=e.substring(0,e.length-10),i=$(this).children("img").attr("alt"),a=createSrcSet(t,i),r=$("#project-image-main").height();console.log("mainImgHeight: "+r),$("#overlay-card-img").height(r),$("#overlay-card-img").fadeTo("slow",0,function(){$("#overlay-card-img").html(a)}),$("#overlay-card-img").fadeTo("slow",1),$("#overlay-card-img").height("auto")})}function createSrcSet(e,t){var i;return i='<img src="'+e+'-800px.jpg" ',i+='srcset="',i+=e+"-400px.jpg 400w, ",i+=e+"-600px.jpg 600w, ",i+=e+"-800px.jpg 800w, ",i+=e+'-1000px.jpg 1000w" ',i+='alt="'+t+'" ',i+='id="project-image-main" ',i+='class="project-image">'}function cardClickHandler(e){title=$(this).children(".meta").data("title"),text=$(this).children(".meta").data("text"),img=$(this).children(".meta").data("img"),git=$(this).children(".meta").data("git"),livesite=$(this).children(".meta").data("live"),srcSet=createSrcSet(img,title),thumbsContainer="";for(var t=[],i=$(this),a=1;a<=4;a++){var r="img0"+a;$(i).children(".meta").data(r)&&t.push($(i).children(".meta").data(r))}for(var a=0;a<t.length;a++)console.log("i outside closure = "+a),thumbsContainer+='<div class="thumb">',thumbsContainer+="<img src='"+t[a]+"-400px.jpg'>",thumbsContainer+="</div>";$("#overlay-card-title").html("<h2>"+title+"</h2>"),$("#overlay-card-text").html(text),$("#overlay-card-img").html(srcSet),$("#overlay-card-thumbs").html(thumbsContainer),"#"!==git?$("#overlay-card-github").attr("href",git):$("#overlay-card-github").hide(),"#"!==livesite?$("#overlay-card-live").attr("href",livesite):$("#overlay-card-live").hide(),$("#overlay").show(),$(".card-overlay").animate({marginTop:"0"}),$("body").css("overflow","hidden"),$(".thumb").unbind("click"),assignThumbEvents()}$("#mobile-nav-links").hide(),$("#mobile-nav-button").click(function(){$("#mobile-nav-links").slideToggle()}),$(".card-close-btn").click(function(){closeCard()}),$(document).keyup(function(e){27==e.keyCode&&closeCard()});for(var cards=$(".card"),title,text,srcSet,img,git,livesite,thumbsContainer="",i=0;i<cards.length;i++)cards.eq(i).click(i,cardClickHandler);